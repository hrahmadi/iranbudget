"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3215],{87133:(t,e,r)=>{function n(t){return parseInt(t).toString()===""+t&&t>=0}function i(t,e,r){return t.map(function(t){var n={};return Object.keys(e).forEach(function(r){n[r]=t[e[r]]}),Object.keys(r).forEach(function(e){var i=r[e];Array.isArray(i)||(i=[i]),n[e]=i.map(function(e){return t[e]})}),n})}r.d(e,{A:()=>rW});var o,a,s,u,l,c,p,f=new Date,d=new Date;function m(t,e,r,n){function i(e){return t(e=0==arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(r){return t(r=new Date(r-1)),e(r,1),t(r),r},i.round=function(t){var e=i(t),r=i.ceil(t);return t-e<r-t?e:r},i.offset=function(t,r){return e(t=new Date(+t),null==r?1:Math.floor(r)),t},i.range=function(r,n,o){var a,s=[];if(r=i.ceil(r),o=null==o?1:Math.floor(o),!(r<n)||!(o>0))return s;do s.push(a=new Date(+r)),e(r,o),t(r);while(a<r&&r<n);return s},i.filter=function(r){return m(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,n){if(t>=t){if(n<0)for(;++n<=0;)for(;e(t,-1),!r(t););else for(;--n>=0;)for(;e(t,1),!r(t););}})},r&&(i.count=function(e,n){return f.setTime(+e),d.setTime(+n),t(f),t(d),Math.floor(r(f,d))},i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?t>1?i.filter(n?function(e){return n(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var h=m(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5},function(t){return t.getDate()-1});function g(t){return m(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}h.range;var y=g(0),v=g(1),_=g(2),b=g(3),w=g(4),x=g(5),T=g(6);y.range,v.range,_.range,b.range,w.range,x.range,T.range;var A=m(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});A.every=function(t){return isFinite(t=Math.floor(t))&&t>0?m(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r*t)}):null},A.range;var F=m(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function E(t){return m(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}F.range;var S=E(0),k=E(1),C=E(2),M=E(3),D=E(4),N=E(5),O=E(6);S.range,k.range,C.range,M.range,D.range,N.range,O.range;var L=m(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});function I(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function U(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function R(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}L.every=function(t){return isFinite(t=Math.floor(t))&&t>0?m(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)}):null},L.range;var z={"-":"",_:" ",0:"0"},H=/^\s*\d+/,Y=/^%/,j=/[\\^$*+?|[\]().{}]/g;function P(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?Array(r-o+1).join(e)+i:i)}function W(t){return t.replace(j,"\\$&")}function $(t){return RegExp("^(?:"+t.map(W).join("|")+")","i")}function B(t){for(var e={},r=-1,n=t.length;++r<n;)e[t[r].toLowerCase()]=r;return e}function q(t,e,r){var n=H.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function G(t,e,r){var n=H.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function V(t,e,r){var n=H.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function X(t,e,r){var n=H.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Z(t,e,r){var n=H.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function J(t,e,r){var n=H.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Q(t,e,r){var n=H.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function K(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tt(t,e,r){var n=H.exec(e.slice(r,r+1));return n?(t.q=3*n[0]-3,r+n[0].length):-1}function te(t,e,r){var n=H.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function tr(t,e,r){var n=H.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function tn(t,e,r){var n=H.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function ti(t,e,r){var n=H.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function to(t,e,r){var n=H.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function ta(t,e,r){var n=H.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ts(t,e,r){var n=H.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function tu(t,e,r){var n=H.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tl(t,e,r){var n=Y.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function tc(t,e,r){var n=H.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function tp(t,e,r){var n=H.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function tf(t,e){return P(t.getDate(),e,2)}function td(t,e){return P(t.getHours(),e,2)}function tm(t,e){return P(t.getHours()%12||12,e,2)}function th(t,e){return P(1+h.count(A(t),t),e,3)}function tg(t,e){return P(t.getMilliseconds(),e,3)}function ty(t,e){return tg(t,e)+"000"}function tv(t,e){return P(t.getMonth()+1,e,2)}function t_(t,e){return P(t.getMinutes(),e,2)}function tb(t,e){return P(t.getSeconds(),e,2)}function tw(t){var e=t.getDay();return 0===e?7:e}function tx(t,e){return P(y.count(A(t)-1,t),e,2)}function tT(t){var e=t.getDay();return e>=4||0===e?w(t):w.ceil(t)}function tA(t,e){return t=tT(t),P(w.count(A(t),t)+(4===A(t).getDay()),e,2)}function tF(t){return t.getDay()}function tE(t,e){return P(v.count(A(t)-1,t),e,2)}function tS(t,e){return P(t.getFullYear()%100,e,2)}function tk(t,e){return P((t=tT(t)).getFullYear()%100,e,2)}function tC(t,e){return P(t.getFullYear()%1e4,e,4)}function tM(t,e){var r=t.getDay();return P((t=r>=4||0===r?w(t):w.ceil(t)).getFullYear()%1e4,e,4)}function tD(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+P(e/60|0,"0",2)+P(e%60,"0",2)}function tN(t,e){return P(t.getUTCDate(),e,2)}function tO(t,e){return P(t.getUTCHours(),e,2)}function tL(t,e){return P(t.getUTCHours()%12||12,e,2)}function tI(t,e){return P(1+F.count(L(t),t),e,3)}function tU(t,e){return P(t.getUTCMilliseconds(),e,3)}function tR(t,e){return tU(t,e)+"000"}function tz(t,e){return P(t.getUTCMonth()+1,e,2)}function tH(t,e){return P(t.getUTCMinutes(),e,2)}function tY(t,e){return P(t.getUTCSeconds(),e,2)}function tj(t){var e=t.getUTCDay();return 0===e?7:e}function tP(t,e){return P(S.count(L(t)-1,t),e,2)}function tW(t){var e=t.getUTCDay();return e>=4||0===e?D(t):D.ceil(t)}function t$(t,e){return t=tW(t),P(D.count(L(t),t)+(4===L(t).getUTCDay()),e,2)}function tB(t){return t.getUTCDay()}function tq(t,e){return P(k.count(L(t)-1,t),e,2)}function tG(t,e){return P(t.getUTCFullYear()%100,e,2)}function tV(t,e){return P((t=tW(t)).getUTCFullYear()%100,e,2)}function tX(t,e){return P(t.getUTCFullYear()%1e4,e,4)}function tZ(t,e){var r=t.getUTCDay();return P((t=r>=4||0===r?D(t):D.ceil(t)).getUTCFullYear()%1e4,e,4)}function tJ(){return"+0000"}function tQ(){return"%"}function tK(t){return+t}function t0(t){return Math.floor(+t/1e3)}function t1(t){throw TypeError("Expected a value of type string but got a value of type "+typeof t)}function t2(t){return function(e){return"string"!=typeof e&&t1(e),(e=e.trim())?t(e):null}}(a=function(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=$(i),c=B(i),p=$(o),f=B(o),d=$(a),m=B(a),g=$(s),y=B(s),_=$(u),b=B(u),w={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:tf,e:tf,f:ty,g:tk,G:tM,H:td,I:tm,j:th,L:tg,m:tv,M:t_,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:tK,s:t0,S:tb,u:tw,U:tx,V:tA,w:tF,W:tE,x:null,X:null,y:tS,Y:tC,Z:tD,"%":tQ},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:tN,e:tN,f:tR,g:tV,G:tZ,H:tO,I:tL,j:tI,L:tU,m:tz,M:tH,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:tK,s:t0,S:tY,u:tj,U:tP,V:t$,w:tB,W:tq,x:null,X:null,y:tG,Y:tX,Z:tJ,"%":tQ},T={a:function(t,e,r){var n=d.exec(e.slice(r));return n?(t.w=m[n[0].toLowerCase()],r+n[0].length):-1},A:function(t,e,r){var n=p.exec(e.slice(r));return n?(t.w=f[n[0].toLowerCase()],r+n[0].length):-1},b:function(t,e,r){var n=_.exec(e.slice(r));return n?(t.m=b[n[0].toLowerCase()],r+n[0].length):-1},B:function(t,e,r){var n=g.exec(e.slice(r));return n?(t.m=y[n[0].toLowerCase()],r+n[0].length):-1},c:function(t,r,n){return S(t,e,r,n)},d:tr,e:tr,f:tu,g:Q,G:J,H:ti,I:ti,j:tn,L:ts,m:te,M:to,p:function(t,e,r){var n=l.exec(e.slice(r));return n?(t.p=c[n[0].toLowerCase()],r+n[0].length):-1},q:tt,Q:tc,s:tp,S:ta,u:G,U:V,V:X,w:q,W:Z,x:function(t,e,n){return S(t,r,e,n)},X:function(t,e,r){return S(t,n,e,r)},y:Q,Y:J,Z:K,"%":tl};function A(t,e){return function(r){var n,i,o,a=[],s=-1,u=0,l=t.length;for(r instanceof Date||(r=new Date(+r));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=z[n=t.charAt(++s)])?n=t.charAt(++s):i="e"===n?" ":"0",(o=e[n])&&(n=o(r,i)),a.push(n),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function E(t,e){return function(r){var n,i,o=R(1900,void 0,1);if(S(o,t,r+="",0)!=r.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!e||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(n=(i=(n=U(R(o.y,0,1))).getUTCDay())>4||0===i?k.ceil(n):k(n),n=F.offset(n,(o.V-1)*7),o.y=n.getUTCFullYear(),o.m=n.getUTCMonth(),o.d=n.getUTCDate()+(o.w+6)%7):(n=(i=(n=I(R(o.y,0,1))).getDay())>4||0===i?v.ceil(n):v(n),n=h.offset(n,(o.V-1)*7),o.y=n.getFullYear(),o.m=n.getMonth(),o.d=n.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:+("W"in o)),i="Z"in o?U(R(o.y,0,1)).getUTCDay():I(R(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,U(o)):I(o)}}function S(t,e,r,n){for(var i,o,a=0,s=e.length,u=r.length;a<s;){if(n>=u)return -1;if(37===(i=e.charCodeAt(a++))){if(!(o=T[(i=e.charAt(a++))in z?e.charAt(a++):i])||(n=o(t,r,n))<0)return -1}else if(i!=r.charCodeAt(n++))return -1}return n}return w.x=A(r,w),w.X=A(n,w),w.c=A(e,w),x.x=A(r,x),x.X=A(n,x),x.c=A(e,x),{format:function(t){var e=A(t+="",w);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=A(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,a.parse,s=a.utcFormat,u=a.utcParse;var t3=new Date(1972,3,27,19,45,5),t5={"%b %d":[{regex:/^june\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[1])}},{regex:/^july\s(3[01]|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[1])}},{regex:/^sept\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[1])}}],"%d %b":[{regex:/^(0?[1-9]|[1-9][0-9])\sjune$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\sjuly$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\ssept$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[0])}}]};function t4(t){return function(e){var r=null;return t.forEach(function(t){e.match(t.regex)&&(r=t.toDate(e))}),r}}function t9(t,e){var r,n=u(t),i=s(t);return Object.freeze({test:"function"==typeof e?t2(function(t){return e(t,null!==n(t))}):t2(function(t){return null!==n(t)}),parse:t2(function(e){return n(e)||(t5[t]?t4(t5[t])(e):null)}),format:function(t){return i(t)},type:"datetime",description:t,id:"datetime$"+t,example:i(t3)})}var t6=Object.freeze([t9("%Y-%m-%dT%H:%M:%S.%LZ"),t9("%Y-%m-%d %H:%M:%S"),t9("%Y-%m-%dT%H:%M:%S"),t9("%Y-%m-%dT%H:%M:%SZ"),t9("%d/%m/%Y",function(t,e){if(!e)return!1;var r=t.split("/").map(parseFloat);return r[0]>0&&r[0]<=31&&r[1]>0&&r[1]<=12&&r[2]>=1e3}),t9("%d/%m/%Y %H:%M",function(t,e){if(!e)return!1;var r=t.split(/[/ :]/).map(parseFloat);return r[0]>0&&r[0]<=31&&r[1]>0&&r[1]<=12&&r[2]>=1e3&&r[3]>=0&&r[3]<24&&r[4]>=0&&r[4]<60}),t9("%d/%m/%y",function(t,e){if(!e)return!1;var r=t.split("/").map(parseFloat);return r[0]>0&&r[0]<=31&&r[1]>0&&r[1]<=12&&!isNaN(r[2])}),t9("%m/%d/%Y",function(t,e){if(!e)return!1;var r=t.split("/").map(parseFloat);return r[0]>0&&r[0]<=12&&r[1]>0&&r[1]<=31&&r[2]>=1e3}),t9("%m/%d/%Y %H:%M",function(t,e){if(!e)return!1;var r=t.split(/[/ :]/).map(parseFloat);return r[0]>0&&r[0]<=12&&r[1]>0&&r[1]<=31&&r[2]>=1e3&&r[3]>=0&&r[3]<24&&r[4]>=0&&r[4]<60}),t9("%m/%d/%y",function(t,e){if(!e)return!1;var r=t.split("/").map(parseFloat);return r[0]>0&&r[0]<=12&&r[1]>0&&r[1]<=31&&!isNaN(r[2])}),t9("%Y/%m/%d",function(t,e){if(!e)return!1;var r=t.split("/").map(parseFloat);return r[0]>=1e3&&r[1]>0&&r[1]<=12&&r[2]>0&&r[2]<=31}),t9("%d-%m-%Y",function(t,e){if(!e)return!1;var r=t.split("-").map(parseFloat);return r[0]>0&&r[0]<=31&&r[1]>0&&r[1]<=12&&r[2]>=1e3}),t9("%d-%m-%y",function(t,e){if(!e)return!1;var r=t.split("-").map(parseFloat);return r[0]>0&&r[0]<=31&&r[1]>0&&r[1]<=12&&!isNaN(r[2])}),t9("%d.%m.%Y",function(t,e){if(!e)return!1;var r=t.split(".").map(parseFloat);return r[0]>0&&r[0]<=31&&r[1]>0&&r[1]<=12&&r[2]>=1e3}),t9("%m.%d.%y",function(t,e){if(!e)return!1;var r=t.split(".").map(parseFloat);return r[0]>0&&r[0]<=12&&r[1]>0&&r[1]<=31&&!isNaN(r[2])}),t9("%m-%d-%Y",function(t,e){if(!e)return!1;var r=t.split("-").map(parseFloat);return r[0]>0&&r[0]<=12&&r[1]>0&&r[1]<=31&&r[2]>=1e3}),t9("%m-%d-%y",function(t,e){if(!e)return!1;var r=t.split("-").map(parseFloat);return r[0]>0&&r[0]<=12&&r[1]>0&&r[1]<=31&&!isNaN(r[2])}),t9("%Y-%m-%d",function(t,e){if(!e)return!1;var r=t.split("-").map(parseFloat);return r[0]>=1e3&&r[1]>0&&r[1]<=12&&r[2]>0&&r[2]<=31}),t9("%Y-%m",function(t,e){if(!e)return!1;var r=t.split("-").map(parseFloat);return r[0]>=1e3&&r[1]>0&&r[1]<=12}),t9("%Y%m",function(t,e){if(!e)return!1;var r=parseFloat(t.slice(0,4)),n=parseFloat(t.slice(4));return r>1e3&&n>0&&n<=12}),t9("%d %b %Y",function(t,e){if(!e)return!1;var r=t.split(" ").map(parseFloat);return r[0]>0&&r[0]<=31&&r[2]>=1e3}),t9("%d %B %Y",function(t,e){if(!e)return!1;var r=t.split(" ").map(parseFloat);return r[0]>0&&r[0]<=31&&r[2]>=1e3}),t9("%d %b %y"),t9("%-d %b ’%y"),t9("%d %B %y"),t9("%d-%b-%Y",function(t,e){if(!e)return!1;var r=t.split("-").map(parseFloat);return r[0]>0&&r[0]<=31&&r[2]>=1e3}),t9("%d-%B-%Y",function(t,e){if(!e)return!1;var r=t.split("-").map(parseFloat);return r[0]>0&&r[0]<=31&&r[2]>=1e3}),t9("%d-%b-%y"),t9("%d-%B-%y"),t9("%m/%Y",function(t,e){if(!e)return!1;var r=t.split("/").map(parseFloat);return r[0]>0&&r[0]<=12&&r[1]>=1e3}),t9("%m/%y"),t9("%b %Y",function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3}),t9("%B %Y",function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3}),t9("%b-%y"),t9("%b %y"),t9("%B %y"),t9("%b '%y"),t9("%b ’%y"),t9("%B %-d %Y"),t9("%d %b",function(t,e){return!!e||!!t4(t5["%d %b"])(t)}),t9("%d %B"),t9("%b %d",function(t,e){return!!e||!!t4(t5["%b %d"])(t)}),t9("%B %d"),t9("%d-%m",function(t,e){if(!e)return!1;var r=t.split("-").map(parseFloat);return r[0]>0&&r[0]<=31&&r[1]>0&&r[1]<=12}),t9("%m-%d"),t9("%d/%m"),t9("%m/%d"),t9("%b %d %Y"),t9("%b %d %Y, %-I.%M%p"),t9("%Y",function(t,e){if(!e)return!1;var r=parseFloat(t);return r>1499&&r<2200}),t9("%B"),t9("%b"),t9("%X"),t9("%I:%M %p"),t9("%-I.%M%p"),t9("%H:%M",function(t,e){if(!e)return!1;var r=t.split(":").map(parseFloat);return r[0]>=0&&r[0]<24}),t9("%H:%M:%S"),t9("%M:%S"),t9("%-I%p"),t9("Q%q %Y",function(t,e){return!!e&&6===t.replace(/\s/g,"").length}),t9("%Y Q%q",function(t,e){return!!e&&6===t.replace(/\s/g,"").length}),t9("%YM%m",function(t,e){if(!e)return!1;var r=t.split("M").map(parseFloat);return r[0]>=1e3&&r[1]>0&&r[1]<=12}),t9("%YQ%q",function(t,e){if(!e)return!1;var r=t.split("Q").map(parseFloat);return r[0]>=1e3&&r[1]>0&&r[1]<=4}),t9("%Y\xc1%q",function(t,e){if(!e)return!1;var r=t.split("\xc1").map(parseFloat);return r[0]>=1e3&&r[1]>0&&r[1]<=4})]);function t8(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}var t7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function et(t){var e;if(!(e=t7.exec(t)))throw Error("invalid format: "+t);return new ee({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ee(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function er(t,e){var r=t8(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+Array(i-n.length+2).join("0")}et.prototype=ee.prototype,ee.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var en={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return er(100*t,e)},r:er,s:function(t,e){var r=t8(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(l=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=n.length;return o===a?n:o>a?n+Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+Array(1-o).join("0")+t8(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ei(t){return t}var eo=Array.prototype.map,ea=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],es={test:t2(function(t){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:t2(function(t){return parseFloat(t.replace(/,/g,""))}),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point",example:"12,235.56"},eu={test:t2(function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:t2(function(t){return parseFloat(t.replace(/\s/g,""))}),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point",example:"12 235.56"},el={test:t2(function(t){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:t2(function(t){return parseFloat(t)}),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point",example:"12235.56"},ec=Object.freeze([es,eu,{test:t2(function(t){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:t2(function(t){return parseFloat(t.replace(/\./g,"").replace(/,/,"."))}),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma",example:"12.235,56"},{test:t2(function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:t2(function(t){return parseFloat(t.replace(/\s/g,"").replace(/,/,"."))}),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma",example:"12 235,56"},el,{test:t2(function(t){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:t2(function(t){return parseFloat(t.replace(/,/,"."))}),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma",example:"12235,56"}]);ec.forEach(function(t){var e,r,n;t.type="number",n=function(t){var e,r,n,i=void 0===t.grouping||void 0===t.thousands?ei:(e=eo.call(t.grouping,Number),r=t.thousands+"",function(t,n){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>n));)s=e[a=(a+1)%e.length];return o.reverse().join(r)}),o=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?ei:(n=eo.call(t.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return n[+t]})}),c=void 0===t.percent?"%":t.percent+"",p=void 0===t.minus?"-":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=et(t)).fill,r=t.align,n=t.sign,d=t.symbol,m=t.zero,h=t.width,g=t.comma,y=t.precision,v=t.trim,_=t.type;"n"===_?(g=!0,_="g"):en[_]||(void 0===y&&(y=12),v=!0,_="g"),(m||"0"===e&&"="===r)&&(m=!0,e="0",r="=");var b="$"===d?o:"#"===d&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",w="$"===d?a:/[%p]/.test(_)?c:"",x=en[_],T=/[defgprs%]/.test(_);function A(t){var o,a,c,d=b,A=w;if("c"===_)A=x(t)+A,t="";else{var F=(t*=1)<0||1/t<0;if(t=isNaN(t)?f:x(Math.abs(t),y),v&&(t=function(t){t:for(var e,r=t.length,n=1,i=-1;n<r;++n)switch(t[n]){case".":i=e=n;break;case"0":0===i&&(i=n),e=n;break;default:if(!+t[n])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),F&&0==+t&&"+"!==n&&(F=!1),d=(F?"("===n?n:p:"-"===n||"("===n?"":n)+d,A=("s"===_?ea[8+l/3]:"")+A+(F&&"("===n?")":""),T){for(o=-1,a=t.length;++o<a;)if(48>(c=t.charCodeAt(o))||c>57){A=(46===c?s+t.slice(o+1):t.slice(o))+A,t=t.slice(0,o);break}}}g&&!m&&(t=i(t,1/0));var E=d.length+t.length+A.length,S=E<h?Array(h-E+1).join(e):"";switch(g&&m&&(t=i(S+t,S.length?h-A.length:1/0),S=""),r){case"<":t=d+t+A+S;break;case"=":t=d+S+t+A;break;case"^":t=S.slice(0,E=S.length>>1)+d+t+A+S.slice(E);break;default:t=S+d+t+A}return u(t)}return y=void 0===y?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),A.toString=function(){return t+""},A}return{format:d,formatPrefix:function(t,e){var r,n=d(((t=et(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(((r=t8(Math.abs(r=e)))?r[1]:NaN)/3))),o=Math.pow(10,-i),a=ea[8+i/3];return function(t){return n(o*t)+a}}}}({decimal:t.decimal_mark,thousands:t.thousand_separator,grouping:[3],currency:["",""]}),t.format=function(t,i){return null===t?"":(i||(i=",.2f"),i!==r&&(r=i,e=n.format(r)),e(t))},Object.freeze(t)});var ep=Object.freeze({test:function(t){return"string"==typeof t||t1(t)},parse:function(t){return"string"==typeof t?t:t1(t)},format:function(t){if("string"==typeof t)return t},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),ef=Object.freeze({datetime:t6,number:ec}),ed=Object.freeze(["datetime","number","string"]),em=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),eh=Object.freeze(Object.keys(em));function eg(t,e){return t.index-e.index}function ey(t,e){return e.n_success-t.n_success||eg(t,e)}function ev(t){return(""+t).trim()}function e_(t){return void 0===t?function(t){return ev(t)}:"function"==typeof t?function(e,r){return ev(t(e,r))}:function(e){return ev(e[""+t])}}function eb(t){t?Array.isArray(t)||(t=[t]):t=ed;var e=t.reduce(function(t,e){var r=ef[e];return r&&Array.prototype.push.apply(t,r),t},[]),r=-1!==t.indexOf("string"),n=eh.reduce(function(t,e){return t[e]=em[e],t},{}),i=function(t,i){i=e_(i);var o=t.map(i).filter(Boolean);if(!o.length)return r?[ep]:[];var a=Math.min(n.n_max,o.length),s=Math.floor(a*n.failure_fraction),u=n.n_failing_values,l=n.sort?ey:eg,c=e.slice().reduce(function(t,e,r){for(var n=c=0,i=[],l=!1,c=0;c<a;c++){var p=o[c];if(!e.test(p)&&(++n>s?l=!0:-1===i.indexOf(p)&&(i.push(p),i.length>u&&(l=!0)),l))break}return l||t.push({interp:e,n_success:a-n,index:r}),t},[]).sort(l).map(function(t){return t.interp});return r&&c.push(ep),c};return eh.forEach(function(t){i[t.replace(/_(\w)/g,function(t,e){return e.toUpperCase()})]=function(e){return void 0===e?n[t]:(n[t]=e,i)}}),i}eb.DATETIME_IDS=Object.freeze(t6.map(function(t){return t.id})),eb.NUMBER_IDS=Object.freeze(ec.map(function(t){return t.id})),eb.STRING_IDS=Object.freeze([ep.id]),eb.getInterpretation=function(){var t=t6.concat(ec,ep).reduce(function(t,e){return t[e.id]=e,t},{});return function(e){return t[e]}}(),eb._createAccessorFunction=e_,Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(this==null)throw TypeError("this is null or not defined");var e=Object(this),r=e.length>>>0;if("function"!=typeof t)throw TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<r;){var o=e[i];if(t.call(n,o,i,e))return i;i++}return -1},configurable:!0,writable:!0}),eb().nMax(1/0).nFailingValues(8).failureFraction(.1),"function"==typeof SuppressedError&&SuppressedError;var ew={de:{credits:{default:"Erstellt mit Flourish"}},en:{credits:{default:{text:"A Flourish data visualization",url:"https://flourish.studio/"},annotator:{text:"Interactive content by Flourish",url:"https://app.flourish.studio/@flourish/svg-annotator"},"bar-chart-race":{text:"A Flourish bar chart race",url:"https://flourish.studio/visualisations/bar-chart-race/"},"bubble-chart":{text:"A Flourish bubble chart",url:"https://flourish.studio/blog/introducing-bubble-chart-template/"},cards:{text:"Interactive content by Flourish",url:"https://flourish.studio/blog/cards-template/"},chart:{text:"A Flourish chart",url:"https://flourish.studio/visualisations/line-bar-pie-charts/"},chord:{text:"A Flourish chord diagram",url:"https://flourish.studio/blog/how-to-make-a-chord-diagram/"},countdown:{text:"Interactive content by Flourish",url:"https://flourish.studio/blog/number-ticker-countdown-templates/"},"data-explorer":{text:"A Flourish data explorer",url:"https://flourish.studio/blog/data-explorer-template/"},draw:{text:"Interactive content by Flourish",url:"https://flourish.studio/blog/draw-the-line-chart/"},election:{text:"A Flourish election chart",url:"https://app.flourish.studio/@flourish/election-results-chart"},gantt:{text:"A Flourish gantt chart",url:"https://flourish.studio/blog/gantt-chart-template/"},gauge:{text:"A Flourish gauge visualization",url:"https://flourish.studio/visualisations/gauge/"},globe:{text:"A Flourish connections globe",url:"https://flourish.studio/visualisations/maps/"},heatmap:{text:"A Flourish heatmap",url:"https://flourish.studio/visualisations/heatmaps/"},hierarchy:{text:"A Flourish hierarchy chart",url:"https://flourish.studio/visualisations/treemaps/"},map:{text:"A Flourish map",url:"https://flourish.studio/visualisations/maps/"},marimekko:{text:"A Flourish marimekko chart",url:"https://flourish.studio/visualisations/marimekko-charts/"},model:{text:"Interactive content by Flourish",url:"https://app.flourish.studio/@flourish/3d-viewer"},network:{text:"A Flourish network chart",url:"https://flourish.studio/visualisations/network-charts/"},"number-ticker":{text:"Interactive content by Flourish",url:"https://flourish.studio/blog/number-ticker-countdown-templates/"},parliament:{text:"A Flourish election chart",url:"https://flourish.studio/blog/how-to-make-parliament-chart/"},"photo-slider":{text:"Interactive content by Flourish",url:"https://app.flourish.studio/@flourish/photo-slider"},pictogram:{text:"A Flourish pictogram",url:"https://flourish.studio/blog/pictogram-isotype/"},quiz:{text:"A Flourish quiz",url:"https://app.flourish.studio/@flourish/quiz"},radar:{text:"A Flourish radar chart",url:"https://flourish.studio/blog/create-online-radar-spider-charts/"},ranking:{text:"A Flourish line chart race",url:"https://flourish.studio/blog/line-chart-race-updates/"},sankey:{text:"A Flourish sankey chart",url:"https://flourish.studio/visualisations/sankey-charts/"},scatter:{text:"A Flourish scatter chart",url:"https://flourish.studio/visualisations/scatter-charts/"},slope:{text:"A Flourish slope chart",url:"https://flourish.studio/visualisations/slope-charts/"},sports:{text:"A Flourish sports visualization",url:"https://app.flourish.studio/@flourish/sports-race"},survey:{text:"A Flourish survey visualization",url:"https://flourish.studio/visualisations/survey-data/"},table:{text:"A Flourish table",url:"https://flourish.studio/visualisations/create-a-table/"},timeline:{text:"Interactive content by Flourish",url:"https://flourish.studio/blog/responsive-interactive-timeline/"},"text-annotator":{text:"Interactive content by Flourish",url:"https://flourish.studio/blog/text-annotator-template/"},tournament:{text:"Interactive content by Flourish",url:"https://flourish.studio/visualisations/tournament-chart/"},"word-cloud":{text:"A Flourish data visualization",url:"https://flourish.studio/blog/online-wordcloud-custom-fonts/"}}},es:{credits:{default:"Creado con Flourish",bar_race:{text:"Creado con Flourish",url:"https://flourish.studio/visualisations/bar-chart-race/"},"bar-chart-race":{text:"Creado con Flourish",url:"https://flourish.studio/visualisations/bar-chart-race/"}}},fr:{credits:{default:"Cr\xe9\xe9 avec Flourish",bar_race:{text:"Cr\xe9\xe9 avec Flourish",url:"https://flourish.studio/visualisations/bar-chart-race/"},"bar-chart-race":{text:"Cr\xe9\xe9 avec Flourish",url:"https://flourish.studio/visualisations/bar-chart-race/"}}},it:{credits:{default:"Creato con Flourish",bar_race:{text:"Creato con Flourish",url:"https://flourish.studio/visualisations/bar-chart-race/"},"bar-chart-race":{text:"Creato con Flourish",url:"https://flourish.studio/visualisations/bar-chart-race/"}}},mi:{credits:{default:"Hangaia ki te Flourish",bar_race:{text:"Hangaia ki te Flourish",url:"https://flourish.studio/visualisations/bar-chart-race/"},"bar-chart-race":{text:"Hangaia ki te Flourish",url:"https://flourish.studio/visualisations/bar-chart-race/"}}},nl:{credits:{default:"Gemaakt met Flourish",bar_race:{text:"Gemaakt met Flourish",url:"https://flourish.studio/visualisations/bar-chart-race/"},"bar-chart-race":{text:"Gemaakt met Flourish",url:"https://flourish.studio/visualisations/bar-chart-race/"}}},pt:{default:"Feito com Flourish",bar_race:{text:"Feito com Flourish",url:"https://flourish.studio/visualisations/bar-chart-race/"},"bar-chart-race":{text:"Feito com Flourish",url:"https://flourish.studio/visualisations/bar-chart-race/"}}},ex=!1;function eT(t){if(ex&&window.top!==window.self){var e,r=window;"srcdoc"===r.location.pathname&&(r=r.parent);var n=(e={},window._Flourish_template_id&&(e.template_id=window._Flourish_template_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_template_id&&(e.template_id=window.Flourish.app.loaded_template_id),window._Flourish_visualisation_id&&(e.visualisation_id=window._Flourish_visualisation_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_visualisation&&(e.visualisation_id=window.Flourish.app.loaded_visualisation.id),window.Flourish&&window.Flourish.app&&window.Flourish.app.story&&(e.story_id=window.Flourish.app.story.id,e.slide_count=window.Flourish.app.story.slides.length),window.Flourish&&window.Flourish.app&&window.Flourish.app.current_slide&&(e.slide_index=window.Flourish.app.current_slide.index+1),e),i={sender:"Flourish",method:"customerAnalytics"};for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o]);r.parent.postMessage(JSON.stringify(i),"*")}}function eA(t){if("function"!=typeof t)throw Error("Analytics callback is not a function");window.Flourish._analytics_listeners.push(t)}function eF(){ex=!0,[{event_name:"click",action_name:"click",use_capture:!0},{event_name:"keydown",action_name:"key_down",use_capture:!0},{event_name:"mouseenter",action_name:"mouse_enter",use_capture:!1},{event_name:"mouseleave",action_name:"mouse_leave",use_capture:!1}].forEach(function(t){document.body.addEventListener(t.event_name,function(){eT({action:t.action_name})},t.use_capture)})}let{entries:eE,setPrototypeOf:eS,isFrozen:ek,getPrototypeOf:eC,getOwnPropertyDescriptor:eM}=Object,{freeze:eD,seal:eN,create:eO}=Object,{apply:eL,construct:eI}="undefined"!=typeof Reflect&&Reflect;eD||(eD=function(t){return t}),eN||(eN=function(t){return t}),eL||(eL=function(t,e,r){return t.apply(e,r)}),eI||(eI=function(t,e){return new t(...e)});let eU=eZ(Array.prototype.forEach),eR=eZ(Array.prototype.lastIndexOf),ez=eZ(Array.prototype.pop),eH=eZ(Array.prototype.push),eY=eZ(Array.prototype.splice),ej=eZ(String.prototype.toLowerCase),eP=eZ(String.prototype.toString),eW=eZ(String.prototype.match),e$=eZ(String.prototype.replace),eB=eZ(String.prototype.indexOf),eq=eZ(String.prototype.trim),eG=eZ(Object.prototype.hasOwnProperty),eV=eZ(RegExp.prototype.test),eX=(o=TypeError,function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return eI(o,e)});function eZ(t){return function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return eL(t,e,n)}}function eJ(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ej;eS&&eS(t,null);let n=e.length;for(;n--;){let i=e[n];if("string"==typeof i){let t=r(i);t!==i&&(ek(e)||(e[n]=t),i=t)}t[i]=!0}return t}function eQ(t){let e=eO(null);for(let[r,n]of eE(t))eG(t,r)&&(Array.isArray(n)?e[r]=function(t){for(let e=0;e<t.length;e++)eG(t,e)||(t[e]=null);return t}(n):n&&"object"==typeof n&&n.constructor===Object?e[r]=eQ(n):e[r]=n);return e}function eK(t,e){for(;null!==t;){let r=eM(t,e);if(r){if(r.get)return eZ(r.get);if("function"==typeof r.value)return eZ(r.value)}t=eC(t)}return function(){return null}}let e0=eD(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),e1=eD(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),e2=eD(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),e3=eD(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),e5=eD(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),e4=eD(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),e9=eD(["#text"]),e6=eD(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),e8=eD(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),e7=eD(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rt=eD(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),re=eN(/\{\{[\w\W]*|[\w\W]*\}\}/gm),rr=eN(/<%[\w\W]*|[\w\W]*%>/gm),rn=eN(/\$\{[\w\W]*/gm),ri=eN(/^data-[\-\w.\u00B7-\uFFFF]+$/),ro=eN(/^aria-[\-\w]+$/),ra=eN(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),rs=eN(/^(?:\w+script|data):/i),ru=eN(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rl=eN(/^html$/i);var rc=Object.freeze({__proto__:null,ARIA_ATTR:ro,ATTR_WHITESPACE:ru,CUSTOM_ELEMENT:eN(/^[a-z][.\w]*(-[.\w]+)+$/i),DATA_ATTR:ri,DOCTYPE_NAME:rl,ERB_EXPR:rr,IS_ALLOWED_URI:ra,IS_SCRIPT_OR_DATA:rs,MUSTACHE_EXPR:re,TMPLIT_EXPR:rn});let rp={element:1,text:3,progressingInstruction:7,comment:8,document:9},rf=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let r=null,n="data-tt-policy-suffix";e&&e.hasAttribute(n)&&(r=e.getAttribute(n));let i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}},rd=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};var rm=function t(){let e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,n=e=>t(e);if(n.version="3.2.4",n.removed=[],!r||!r.document||r.document.nodeType!==rp.document||!r.Element)return n.isSupported=!1,n;let{document:i}=r,o=i,a=o.currentScript,{DocumentFragment:s,HTMLTemplateElement:u,Node:l,Element:c,NodeFilter:p,NamedNodeMap:f=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:d,DOMParser:m,trustedTypes:h}=r,g=c.prototype,y=eK(g,"cloneNode"),v=eK(g,"remove"),_=eK(g,"nextSibling"),b=eK(g,"childNodes"),w=eK(g,"parentNode");if("function"==typeof u){let t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let x="",{implementation:T,createNodeIterator:A,createDocumentFragment:F,getElementsByTagName:E}=i,{importNode:S}=o,k=rd();n.isSupported="function"==typeof eE&&"function"==typeof w&&T&&void 0!==T.createHTMLDocument;let{MUSTACHE_EXPR:C,ERB_EXPR:M,TMPLIT_EXPR:D,DATA_ATTR:N,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:U}=rc,{IS_ALLOWED_URI:R}=rc,z=null,H=eJ({},[...e0,...e1,...e2,...e5,...e9]),Y=null,j=eJ({},[...e6,...e8,...e7,...rt]),P=Object.seal(eO(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,$=null,B=!0,q=!0,G=!1,V=!0,X=!1,Z=!0,J=!1,Q=!1,K=!1,tt=!1,te=!1,tr=!1,tn=!0,ti=!1,to=!0,ta=!1,ts={},tu=null,tl=eJ({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),tc=null,tp=eJ({},["audio","video","img","source","image","track"]),tf=null,td=eJ({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tm="http://www.w3.org/1998/Math/MathML",th="http://www.w3.org/2000/svg",tg="http://www.w3.org/1999/xhtml",ty=tg,tv=!1,t_=null,tb=eJ({},[tm,th,tg],eP),tw=eJ({},["mi","mo","mn","ms","mtext"]),tx=eJ({},["annotation-xml"]),tT=eJ({},["title","style","font","a","script"]),tA=null,tF=["application/xhtml+xml","text/html"],tE=null,tS=null,tk=i.createElement("form"),tC=function(t){return t instanceof RegExp||t instanceof Function},tM=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!tS||tS!==t){if(t&&"object"==typeof t||(t={}),t=eQ(t),tE="application/xhtml+xml"===(tA=-1===tF.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE)?eP:ej,z=eG(t,"ALLOWED_TAGS")?eJ({},t.ALLOWED_TAGS,tE):H,Y=eG(t,"ALLOWED_ATTR")?eJ({},t.ALLOWED_ATTR,tE):j,t_=eG(t,"ALLOWED_NAMESPACES")?eJ({},t.ALLOWED_NAMESPACES,eP):tb,tf=eG(t,"ADD_URI_SAFE_ATTR")?eJ(eQ(td),t.ADD_URI_SAFE_ATTR,tE):td,tc=eG(t,"ADD_DATA_URI_TAGS")?eJ(eQ(tp),t.ADD_DATA_URI_TAGS,tE):tp,tu=eG(t,"FORBID_CONTENTS")?eJ({},t.FORBID_CONTENTS,tE):tl,W=eG(t,"FORBID_TAGS")?eJ({},t.FORBID_TAGS,tE):{},$=eG(t,"FORBID_ATTR")?eJ({},t.FORBID_ATTR,tE):{},ts=!!eG(t,"USE_PROFILES")&&t.USE_PROFILES,B=!1!==t.ALLOW_ARIA_ATTR,q=!1!==t.ALLOW_DATA_ATTR,G=t.ALLOW_UNKNOWN_PROTOCOLS||!1,V=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,X=t.SAFE_FOR_TEMPLATES||!1,Z=!1!==t.SAFE_FOR_XML,J=t.WHOLE_DOCUMENT||!1,tt=t.RETURN_DOM||!1,te=t.RETURN_DOM_FRAGMENT||!1,tr=t.RETURN_TRUSTED_TYPE||!1,K=t.FORCE_BODY||!1,tn=!1!==t.SANITIZE_DOM,ti=t.SANITIZE_NAMED_PROPS||!1,to=!1!==t.KEEP_CONTENT,ta=t.IN_PLACE||!1,R=t.ALLOWED_URI_REGEXP||ra,ty=t.NAMESPACE||tg,tw=t.MATHML_TEXT_INTEGRATION_POINTS||tw,tx=t.HTML_INTEGRATION_POINTS||tx,P=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&tC(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(P.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&tC(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(P.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(P.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),X&&(q=!1),te&&(tt=!0),ts&&(z=eJ({},e9),Y=[],!0===ts.html&&(eJ(z,e0),eJ(Y,e6)),!0===ts.svg&&(eJ(z,e1),eJ(Y,e8),eJ(Y,rt)),!0===ts.svgFilters&&(eJ(z,e2),eJ(Y,e8),eJ(Y,rt)),!0===ts.mathMl&&(eJ(z,e5),eJ(Y,e7),eJ(Y,rt))),t.ADD_TAGS&&(z===H&&(z=eQ(z)),eJ(z,t.ADD_TAGS,tE)),t.ADD_ATTR&&(Y===j&&(Y=eQ(Y)),eJ(Y,t.ADD_ATTR,tE)),t.ADD_URI_SAFE_ATTR&&eJ(tf,t.ADD_URI_SAFE_ATTR,tE),t.FORBID_CONTENTS&&(tu===tl&&(tu=eQ(tu)),eJ(tu,t.FORBID_CONTENTS,tE)),to&&(z["#text"]=!0),J&&eJ(z,["html","head","body"]),z.table&&(eJ(z,["tbody"]),delete W.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw eX('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw eX('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=(e=t.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===e&&(e=rf(h,a)),null!==e&&"string"==typeof x&&(x=e.createHTML(""));eD&&eD(t),tS=t}},tD=eJ({},[...e1,...e2,...e3]),tN=eJ({},[...e5,...e4]),tO=function(t){let e=w(t);e&&e.tagName||(e={namespaceURI:ty,tagName:"template"});let r=ej(t.tagName),n=ej(e.tagName);return!!t_[t.namespaceURI]&&(t.namespaceURI===th?e.namespaceURI===tg?"svg"===r:e.namespaceURI===tm?"svg"===r&&("annotation-xml"===n||tw[n]):!!tD[r]:t.namespaceURI===tm?e.namespaceURI===tg?"math"===r:e.namespaceURI===th?"math"===r&&tx[n]:!!tN[r]:t.namespaceURI===tg?(e.namespaceURI!==th||!!tx[n])&&(e.namespaceURI!==tm||!!tw[n])&&!tN[r]&&(tT[r]||!tD[r]):"application/xhtml+xml"===tA&&!!t_[t.namespaceURI])},tL=function(t){eH(n.removed,{element:t});try{w(t).removeChild(t)}catch(e){v(t)}},tI=function(t,e){try{eH(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){eH(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t){if(tt||te)try{tL(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}}},tU=function(t){let r=null,n=null;if(K)t="<remove></remove>"+t;else{let e=eW(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===tA&&ty===tg&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");let o=e?e.createHTML(t):t;if(ty===tg)try{r=new m().parseFromString(o,tA)}catch(t){}if(!r||!r.documentElement){r=T.createDocument(ty,"template",null);try{r.documentElement.innerHTML=tv?x:o}catch(t){}}let a=r.body||r.documentElement;return(t&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),ty===tg)?E.call(r,J?"html":"body")[0]:J?r.documentElement:a},tR=function(t){return A.call(t.ownerDocument||t,t,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},tz=function(t){return t instanceof d&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof f)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},tH=function(t){return"function"==typeof l&&t instanceof l};function tY(t,e,r){eU(t,t=>{t.call(n,e,r,tS)})}let tj=function(t){let e=null;if(tY(k.beforeSanitizeElements,t,null),tz(t))return tL(t),!0;let r=tE(t.nodeName);if(tY(k.uponSanitizeElement,t,{tagName:r,allowedTags:z}),t.hasChildNodes()&&!tH(t.firstElementChild)&&eV(/<[/\w]/g,t.innerHTML)&&eV(/<[/\w]/g,t.textContent)||t.nodeType===rp.progressingInstruction||Z&&t.nodeType===rp.comment&&eV(/<[/\w]/g,t.data))return tL(t),!0;if(!z[r]||W[r]){if(!W[r]&&tW(r)&&(P.tagNameCheck instanceof RegExp&&eV(P.tagNameCheck,r)||P.tagNameCheck instanceof Function&&P.tagNameCheck(r)))return!1;if(to&&!tu[r]){let e=w(t)||t.parentNode,r=b(t)||t.childNodes;if(r&&e){let n=r.length;for(let i=n-1;i>=0;--i){let n=y(r[i],!0);n.__removalCount=(t.__removalCount||0)+1,e.insertBefore(n,_(t))}}}return tL(t),!0}return t instanceof c&&!tO(t)||("noscript"===r||"noembed"===r||"noframes"===r)&&eV(/<\/no(script|embed|frames)/i,t.innerHTML)?(tL(t),!0):(X&&t.nodeType===rp.text&&(e=t.textContent,eU([C,M,D],t=>{e=e$(e,t," ")}),t.textContent!==e&&(eH(n.removed,{element:t.cloneNode()}),t.textContent=e)),tY(k.afterSanitizeElements,t,null),!1)},tP=function(t,e,r){if(tn&&("id"===e||"name"===e)&&(r in i||r in tk))return!1;if(q&&!$[e]&&eV(N,e));else if(B&&eV(O,e));else if(!Y[e]||$[e]){if(!(tW(t)&&(P.tagNameCheck instanceof RegExp&&eV(P.tagNameCheck,t)||P.tagNameCheck instanceof Function&&P.tagNameCheck(t))&&(P.attributeNameCheck instanceof RegExp&&eV(P.attributeNameCheck,e)||P.attributeNameCheck instanceof Function&&P.attributeNameCheck(e))||"is"===e&&P.allowCustomizedBuiltInElements&&(P.tagNameCheck instanceof RegExp&&eV(P.tagNameCheck,r)||P.tagNameCheck instanceof Function&&P.tagNameCheck(r))))return!1}else if(tf[e]);else if(eV(R,e$(r,I,"")));else if(("src"===e||"xlink:href"===e||"href"===e)&&"script"!==t&&0===eB(r,"data:")&&tc[t]);else if(G&&!eV(L,e$(r,I,"")));else if(r)return!1;return!0},tW=function(t){return"annotation-xml"!==t&&eW(t,U)},t$=function(t){tY(k.beforeSanitizeAttributes,t,null);let{attributes:r}=t;if(!r||tz(t))return;let i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y,forceKeepAttr:void 0},o=r.length;for(;o--;){let{name:a,namespaceURI:s,value:u}=r[o],l=tE(a),c="value"===a?u:eq(u);if(i.attrName=l,i.attrValue=c,i.keepAttr=!0,i.forceKeepAttr=void 0,tY(k.uponSanitizeAttribute,t,i),c=i.attrValue,ti&&("id"===l||"name"===l)&&(tI(a,t),c="user-content-"+c),Z&&eV(/((--!?|])>)|<\/(style|title)/i,c)){tI(a,t);continue}if(i.forceKeepAttr||(tI(a,t),!i.keepAttr))continue;if(!V&&eV(/\/>/i,c)){tI(a,t);continue}X&&eU([C,M,D],t=>{c=e$(c,t," ")});let p=tE(t.nodeName);if(tP(p,l,c)){if(e&&"object"==typeof h&&"function"==typeof h.getAttributeType){if(s);else switch(h.getAttributeType(p,l)){case"TrustedHTML":c=e.createHTML(c);break;case"TrustedScriptURL":c=e.createScriptURL(c)}}try{s?t.setAttributeNS(s,a,c):t.setAttribute(a,c),tz(t)?tL(t):ez(n.removed)}catch(t){}}}tY(k.afterSanitizeAttributes,t,null)},tB=function t(e){let r=null,n=tR(e);for(tY(k.beforeSanitizeShadowDOM,e,null);r=n.nextNode();)tY(k.uponSanitizeShadowNode,r,null),tj(r),t$(r),r.content instanceof s&&t(r.content);tY(k.afterSanitizeShadowDOM,e,null)};return n.sanitize=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null,a=null,u=null,c=null;if((tv=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!tH(t)){if("function"==typeof t.toString){if("string"!=typeof(t=t.toString()))throw eX("dirty is not a string, aborting")}else throw eX("toString is not a function")}if(!n.isSupported)return t;if(Q||tM(r),n.removed=[],"string"==typeof t&&(ta=!1),ta){if(t.nodeName){let e=tE(t.nodeName);if(!z[e]||W[e])throw eX("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof l)(a=(i=tU("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType===rp.element&&"BODY"===a.nodeName?i=a:"HTML"===a.nodeName?i=a:i.appendChild(a);else{if(!tt&&!X&&!J&&-1===t.indexOf("<"))return e&&tr?e.createHTML(t):t;if(!(i=tU(t)))return tt?null:tr?x:""}i&&K&&tL(i.firstChild);let p=tR(ta?t:i);for(;u=p.nextNode();)tj(u),t$(u),u.content instanceof s&&tB(u.content);if(ta)return t;if(tt){if(te)for(c=F.call(i.ownerDocument);i.firstChild;)c.appendChild(i.firstChild);else c=i;return(Y.shadowroot||Y.shadowrootmode)&&(c=S.call(o,c,!0)),c}let f=J?i.outerHTML:i.innerHTML;return J&&z["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&eV(rl,i.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+f),X&&eU([C,M,D],t=>{f=e$(f,t," ")}),e&&tr?e.createHTML(f):f},n.setConfig=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tM(t),Q=!0},n.clearConfig=function(){tS=null,Q=!1},n.isValidAttribute=function(t,e,r){return tS||tM({}),tP(tE(t),tE(e),r)},n.addHook=function(t,e){"function"==typeof e&&eH(k[t],e)},n.removeHook=function(t,e){if(void 0!==e){let r=eR(k[t],e);return -1===r?void 0:eY(k[t],r,1)[0]}return ez(k[t])},n.removeHooks=function(t){k[t]=[]},n.removeAllHooks=function(){k=rd()},n}();function rh(){if(void 0==c){var t,e,r=("about:srcdoc"==(t=window.location).href&&(t=window.parent.location),e={},!function(t,r,n){for(;n=r.exec(t);)e[decodeURIComponent(n[1])]=decodeURIComponent(n[2])}(t.search.substring(1).replace(/\+/g,"%20"),/([^&=]+)=?([^&]*)/g),e);c="referrer"in r?/^https:\/\/medium.com\//.test(r.referrer):!("auto"in r)}return c}function rg(t){var e=t||window.innerWidth;return e>999?650:e>599?575:400}function ry(t){if(t&&window.top!==window.self){var e=window;"srcdoc"==e.location.pathname&&(e=e.parent);var r={sender:"Flourish",method:"scrolly",captions:t.captions,hasScrollyTransformFix:t.hasScrollyTransformFix};e.parent.postMessage(JSON.stringify(r),"*")}}function rv(t,e){if(window.top!==window.self){var r=window;if("srcdoc"==r.location.pathname&&(r=r.parent),p){t=parseInt(t,10),r.parent.postMessage({sentinel:"amp",type:"embed-size",height:t},"*");return}var n={sender:"Flourish",context:"iframe.resize",method:"resize",height:t,src:r.location.toString()};if(e)for(var i in e)n[i]=e[i];r.parent.postMessage(JSON.stringify(n),"*")}}function r_(){return(-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("iPhone"))&&-1==navigator.userAgent.indexOf("Chrome")}function rb(t){return"string"==typeof t||t instanceof String}function rw(t){return"warn"!==t.method?(console.warn("BUG: validateWarnMessage called for method"+t.method),!1):!!((null==t.message||rb(t.message))&&(null==t.explanation||rb(t.explanation)))}function rx(t){var e;return"resize"!==t.method?(console.warn("BUG: validateResizeMessage called for method"+t.method),!1):!!(rb(t.src)&&rb(t.context))&&("number"==typeof(e=t.height)?!isNaN(e)&&!!(e>=0):!!(rb(e)&&/\d/.test(e)&&/^[0-9]*(\.[0-9]*)?(cm|mm|Q|in|pc|pt|px|em|ex|ch|rem|lh|vw|vh|vmin|vmax|%)?$/i.test(e)))}function rT(t){throw Error("Validation for setSetting is not implemented yet; see issue #4328")}function rA(t){return"scrolly"!==t.method?(console.warn("BUG: validateScrolly called for method"+t.method),!1):!!Array.isArray(t.captions)}function rF(t){return"customerAnalytics"===t.method||(console.warn("BUG: validateCustomerAnalyticsMessage called for method"+t.method),!1)}function rE(t){return"request-upload"!==t.method?(console.warn("BUG: validateResizeMessage called for method"+t.method),!1):!!(rb(t.name)&&(null==t.accept||rb(t.accept)))}function rS(t,e,r){var n=function(t){for(var e={warn:rw,resize:rx,setSetting:rT,customerAnalytics:rF,"request-upload":rE,scrolly:rA},r={},n=0;n<t.length;n++){var i=t[n];if(e[i])r[i]=e[i];else throw Error("No validator found for method "+i)}return r}(e);window.addEventListener("message",function(e){var i,o=function(){if(e.origin==document.location.origin)return!0;if(r){let t=e.origin.toLowerCase();if(r=r.toLowerCase(),t.endsWith("//"+r)||t.endsWith("."+r))return!0}return!!e.origin.match(/\/\/localhost:\d+$|\/\/(?:public|app)\.flourish.devlocal$|\/\/flourish-api\.com$|\.flourish\.(?:local(:\d+)?|net|rocks|studio)$|\.uri\.sh$|\/\/flourish-user-templates\.com$/)}();if(null!=e.source&&o){try{i="object"==typeof e.data?e.data:JSON.parse(e.data)}catch(t){console.warn("Unexpected non-JSON message: "+JSON.stringify(e.data));return}if("Flourish"===i.sender){if(!i.method){console.warn("The 'method' property was missing from message",i);return}if(!Object.prototype.hasOwnProperty.call(n,i.method)){console.warn("No validator implemented for message",i);return}if(!n[i.method](i)){console.warn("Validation failed for the message",i);return}for(var a=document.querySelectorAll("iframe"),s=0;s<a.length;s++)if(a[s].contentWindow==e.source||a[s].contentWindow==e.source.parent){t(i,a[s]);return}console.warn("could not find frame",i)}}}),r_()&&(window.addEventListener("resize",rk),rk())}function rk(){for(var t=document.querySelectorAll(".flourish-embed"),e=0;e<t.length;e++){var r=t[e];if(!r.getAttribute("data-width")){var n=r.querySelector("iframe");if(n){var i=window.getComputedStyle(r),o=r.offsetWidth-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight);n.style.width=o+"px"}}}}function rC(t,e,r){var n=t.parentNode;if(n.classList.contains("fl-scrolly-wrapper")){console.warn("createScrolly is being called more than once per story. This should not happen.");return}n.classList.add("fl-scrolly-wrapper"),n.style.position="relative",n.style.paddingBottom="1px",n.style.transform="translate3d(0, 0, 0)";let i=navigator.platform.indexOf("Win")>-1,o=!!window.chrome&&(navigator.userAgent.indexOf("Chrome")>-1||navigator.userAgent.indexOf("Edg")>-1||navigator.userAgent.indexOf("OPR")>-1);if(i&&o&&r){let t;let e=0;window.addEventListener("scroll",function(){clearTimeout(t),t=setTimeout(()=>{e=+(0===e),n.style.transform=`translateZ(${e}px)`},100)})}t.style.position="sticky";var a=n.getAttribute("data-height")||null;a||(a="80vh",t.style.height=a),t.style.top="calc(50vh - "+a+"/2)";var s=n.querySelector(".flourish-credit");s&&(s.style.position="sticky",s.style.top="calc(50vh + "+a+"/2)"),e.forEach(function(t,e){var r="string"==typeof t&&""!=t.trim(),i=document.createElement("div");i.setAttribute("data-slide",e),i.classList.add("fl-scrolly-caption"),i.style.position="relative",i.style.transform="translate3d(0,0,0)",i.style.textAlign="center",i.style.maxWidth="500px",i.style.height="auto",i.style.marginTop="0",i.style.marginBottom=r?"100vh":"50vh",i.style.marginLeft="auto",i.style.marginRight="auto";var o=document.createElement("div");o.innerHTML=rm.sanitize(t,{ADD_ATTR:["target"]}),o.style.visibility=r?"":"hidden",o.style.display="inline-block",o.style.paddingTop="1.25em",o.style.paddingRight="1.25em",o.style.paddingBottom="1.25em",o.style.paddingLeft="1.25em",o.style.background="rgba(255,255,255,0.9)",o.style.boxShadow="0px 0px 10px rgba(0,0,0,0.2)",o.style.borderRadius="10px",o.style.textAlign="center",o.style.maxWidth="100%",o.style.margin="0 20px",o.style.overflowX="hidden",i.appendChild(o),n.appendChild(i)}),function(t){for(var e=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var r=t.querySelector("iframe");r&&(r.src=r.src.replace(/#slide-.*/,"")+"#slide-"+e.target.getAttribute("data-slide"))}})},{rootMargin:"0px 0px -0% 0px"}),r=t.querySelectorAll(".fl-scrolly-caption"),n=0;n<r.length;n++)e.observe(r[n]);t.querySelectorAll(".fl-scrolly-caption img").forEach(function(t){t.style.maxWidth="100%"})}(n)}function rM(t,e,r,n,i){var o=document.createElement("iframe");if(o.setAttribute("scrolling","no"),o.setAttribute("frameborder","0"),o.setAttribute("title","Interactive or visual content"),o.setAttribute("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"),e.appendChild(o),o.offsetParent||"fixed"===getComputedStyle(o).position)rD(t,e,o,r,n,i);else{var a={embed_url:t,container:e,iframe:o,width:r,height:n,play_on_load:i};if(window._flourish_poll_items?window._flourish_poll_items.push(a):window._flourish_poll_items=[a],window._flourish_poll_items.length>1)return o;var s=setInterval(function(){window._flourish_poll_items=window._flourish_poll_items.filter(function(t){return!t.iframe.offsetParent||(rD(t.embed_url,t.container,t.iframe,t.width,t.height,t.play_on_load),!1)}),window._flourish_poll_items.length||clearInterval(s)},500)}return o}function rD(t,e,r,n,i,o){var a;return n&&"number"==typeof n?(a=n,n=""+n+"px"):n&&n.match(/^[ \t\r\n\f]*([+-]?\d+|\d*\.\d+(?:[eE][+-]?\d+)?)(?:\\?[Pp]|\\0{0,4}[57]0(?:\r\n|[ \t\r\n\f])?)(?:\\?[Xx]|\\0{0,4}[57]8(?:\r\n|[ \t\r\n\f])?)[ \t\r\n\f]*$/)&&(a=parseFloat(n)),i&&"number"==typeof i&&(i=""+i+"px"),n?r.style.width=n:r_()?r.style.width=e.offsetWidth+"px":r.style.width="100%",i||(t.match(/\?/)?t+="&auto=1":t+="?auto=1",i=rg(a||r.offsetWidth)+"px"),i&&("%"===i.charAt(i.length-1)&&(i=parseFloat(i)/100*e.parentNode.offsetHeight+"px"),r.style.height=i),r.setAttribute("src",t+(o?"#play-on-load":"")),r}var rN="5.4.2",rO={api_url:"https://flourish-api.com/api/v1/live",public_bucket_prefix:"https://public.flourish.studio/",base_visualisation_data_format:"array"},rL=["api_key","template","version","container","base_visualisation_id"],rI={};function rU(t){if(!t&&0!==t)return"";if("object"!=typeof t)return""+t;for(var e in t)t[e]=rU(t[e]);return t}var rR=null;function rz(t){for(var e in this._validateOpts(t),this.template_loaded=!1,this.metadata_loaded=!1,this.company_state=null,this.template_settings=null,this._queued_methods=[],rO)t.hasOwnProperty(e)||(t[e]=rO[e]);if(t.base_visualisation_id){var r=this;this._loadBaseVisualisation(t,function(e,n){if(e){console.error(e.message);return}t=rY(n,t),r._loadFleet(t)})}else this._loadFleet(t)}function rH(t){return t instanceof Object&&!Array.isArray(t)&&null!==t}function rY(t,e){var r,n,i=JSON.parse(JSON.stringify(t));for(r in e)n=e[r],rH(i[r])&&rH(n)?i[r]=rY(i[r],n):i[r]=n;return i}function rj(t,e,r,n){for(var i in e.default_values)i in t||(t[i]=e.default_values[i]);for(var o=0;o<e.mandatory_keys.length;o++){var a=e.mandatory_keys[o];if(!(a in t))throw Error("required key “"+a+"” is missing")}for(var o=0;o<e.optional_keys.length;o++){var s=e.optional_keys[o];if(s in r){if(r[s]!=s in t)throw Error("the optional key “"+s+"” is used in some rows but not in others")}else r[s]=s in t}for(var o=0;o<e.columns_keys.length;o++){var u=e.columns_keys[o];if("object"!=typeof t[u]&&(t[u]=[t[u]]),u in n){if(n[u]!=t[u].length)throw Error("the columns key “"+u+"” has an inconsistent number of entries")}else n[u]=t[u].length}}function rP(t){return function(){for(var e=[t],r=0;r<arguments.length;r++)e.push(arguments[r]);this._queue.apply(this,e)}}rz.prototype._loadBaseVisualisation=function(t,e){var r=new XMLHttpRequest;r.addEventListener("load",function(){return 200!=this.status?e(Error("Fetching the base visualisation failed")):e(null,JSON.parse(this.responseText))});let n=t.base_visualisation_data_format;if(!["array","object"].includes(n))return e(Error('The base_visualisation_data_format parameter must be either "array" or "object"'));let i="array"==n?"/visualisation.json":"/visualisation-object.json";r.open("GET",t.public_bucket_prefix+"visualisation/"+t.base_visualisation_id+i),r.send()},rz.prototype._loadFleet=function(t){this.original_properties={};for(var e=0;e<rL.length;e++){var r=rL[e];this.original_properties[r]=t[r]}rR||(p="#amp=1"==window.location.hash,rR={createEmbedIframe:rM,isFixedHeight:rh,getHeightForBreakpoint:rg,startEventListeners:rS,notifyParentWindow:rv,initScrolly:ry,createScrolly:rC,isSafari:r_,initCustomerAnalytics:eF,addAnalyticsListener:eA,sendCustomerAnalyticsMessage:eT});var n=t.api_url+"/template?api_key="+t.api_key+"&api_version="+encodeURIComponent(rN)+"&template="+encodeURIComponent(t.template)+"&version="+t.version,i="string"==typeof t.container?document.querySelector(t.container):t.container;this.iframe=rR.createEmbedIframe(n,i,t.width,t.height,!1);var o=this;this.iframe.addEventListener("load",function(){o.template_loaded=!0,o.metadata_loaded&&o._init({state:t.state,data:o._data,typed_template:o.typed_template},t.callback)}),rR.startEventListeners(function(t,e){if("resize"==t.method){var r=t.height,n=typeof r;"number"!==n&&("string"!==n||isNaN(r))||(t.height+="px"),e.style.height=t.height}},["resize"]);var a=new XMLHttpRequest;a.addEventListener("load",function(){if(500===this.status){console.error(JSON.parse(this.responseText));return}if(200!=this.status){console.error("Fetching the template and data bindings from the server failed");return}var e=JSON.parse(this.responseText);if(o.typed_template=e.typed_template,rI[t.template]||(rI[t.template]={}),void 0===rI[t.template][t.version]&&(rI[t.template][t.version]=o.typed_template),o._prepareDataBindings(e.data_bindings),o.template_settings=e.settings||{},o.company_state=o._getCompanyState(e.company_custom),o.metadata_loaded=!0,o._prepareData(t),o.template_loaded&&o._init({state:t.state,data:o._data,typed_template:o.typed_template},t.callback),!e.hide_credit){var r,n,a,s,u,l,c,p,f,d,m,h,g=t.template.replace(/^@?flourish\//,""),y=(r=(r=t.lang)||"en",n=(n=g)||"","object"==typeof(a=ew[r].credits[n]||ew.en.credits[n]||ew.en.credits.default)&&(a.url&&(s=a.url),a=a.text),{credit_text:a,credit_url:s}),v=(u=y.credit_url,l=null,c=null,p=y.credit_text,u=u||"https://flourish.studio",l=l||"?utm_source=api&utm_campaign="+window.location.href,c=c||"https://public.flourish.studio/",p=p||"A Flourish data visualization",(f=document.createElement("div")).setAttribute("class","flourish-credit"),f.setAttribute("style","width:100%!important;margin:0 0 4px!important;text-align:right!important;font-family:Helvetica,sans-serif!important;color:#888!important;font-size:11px!important;font-weight:bold!important;font-style:normal!important;-webkit-font-smoothing:antialiased!important;box-shadow:none!important;"),(d=document.createElement("a")).setAttribute("href",u+l),d.setAttribute("target","_top"),d.setAttribute("style","display:inline-block!important;text-decoration:none!important;font:inherit!important;color:inherit!important;border:none!important;margin:0 5px!important;box-shadow:none!important;"),f.appendChild(d),(m=document.createElement("img")).setAttribute("alt","Flourish logo"),m.setAttribute("src",c+"resources/bosh.svg"),m.setAttribute("style","font:inherit!important;width:auto!important;height:12px!important;border:none!important;margin:0 2px 0!important;vertical-align:middle!important;display:inline-block!important;box-shadow:none!important;"),d.appendChild(m),(h=document.createElement("span")).setAttribute("style","font:inherit!important;color:#888!important;vertical-align:middle!important;display:inline-block!important;box-shadow:none!important;"),h.appendChild(document.createTextNode(p)),d.appendChild(h),f);i.appendChild(v)}}),a.open("GET",t.api_url+"/metadata?api_key="+t.api_key+"&template="+encodeURIComponent(t.template)+"&version="+t.version),a.send()},rz.prototype._getCompanyState=function(t){return t&&t.settings||{}},rz.prototype._mergeState=function(t){return rY(this.company_state,t)},rz.prototype._prepareDataBindings=function(t){for(var e={},r=0;r<t.length;r++){var n=t[r];"string"!=typeof n&&(n.dataset in e||(e[n.dataset]=[]),e[n.dataset].push(n))}for(var i in this._data_bindings=e,this._parsed_bindings={},e)this._parseDataset(i)},rz.prototype._parseDataset=function(t){if(!this._parsed_bindings[t]){var e=this._parsed_bindings[t]={dataset:t,mandatory_keys:[],optional_keys:[],columns_keys:[],default_values:{},has_mandatory_key:!1},r=this._data_bindings;for(var n in r[t]){var i=r[t][n];switch(i.type){case"column":i.optional?e.optional_keys.push(i.key):(e.mandatory_keys.push(i.key),e.has_mandatory_key=!0);break;case"columns":e.default_values[i.key]=[],e.columns_keys.push(i.key)}}}},rz.prototype._getColumnNames=function(t,e,r,n){for(var i,o={},a=t.dataset,s=0;s<t.mandatory_keys.length;s++){var u=t.mandatory_keys[s];i=e&&e[a]&&e[a][u]||u,o[u]=i}for(var s=0;s<t.optional_keys.length;s++){var l=t.optional_keys[s];r[l]&&(i=e&&e[a]&&e[a][l]||l,o[l]=i)}for(var s=0;s<t.columns_keys.length;s++){var c=t.columns_keys[s];if(e&&e[a]&&e[a][c]){if("string"==typeof(i=e[a][c])&&(i=[i]),!Array.isArray(i)||i.length!=n[c])throw Error("Flourish: number of column names ("+i.length+") does not match the number of columns ("+n[c]+") for dataset “"+a+"” and key “"+c+"”")}else{i=[];for(var p=0;p<n[c];p++)i.push(c+" "+(p+1))}o[c]=i}return o},rz.prototype._getColumnTypesForDataset=function(t,e,r){let n=Object.entries(e.column_bindings).concat(Object.entries(e.columns_bindings)),i={},o={};for(let[e,a]of n){let n=Array.isArray(a),s=n?a:[a];for(let a=0;a<s.length;a++){let u=s[a],l=r[u],c=function(t){let e=eb()(t)[0];return{type:e.type,type_id:e.id,output_format_id:e.id}}(t.map(t=>n?t[e][a]:t[e]));if(l){let t=["type","type_id"],r=Object.keys(l),a=t.filter(t=>!r.includes(t));if(a.length&&(console.warn(`Metadata for column '${u}' is missing a '${a.join("' and '")}' property. Flourish will interpret and populate the missing properties.`),a.forEach(function(t){l[t]=c[t]})),r.includes("output_format_id")||(l.output_format_id=l.type_id),!function(t,e){var r=e?"Validation error in Column '"+e+"':":"";t.output_format_id||(t.output_format_id=t.type_id);let n=Object.keys(t),i=["type","type_id"].filter(t=>!n.includes(t));if(i.length)return console.error(r,"Metadata is missing required key: ",i.join(" and "),t),!1;if(Object.values(t).some(t=>"string"!=typeof t))return console.error(r,"All properties in metadata need to be string",t),!1;if(!["string","number","datetime"].includes(t.type))return console.error(r,"Metadata 'type' property needs to be one of 'string', 'datetime' or 'number'",t),!1;var o=t.type_id.split("$")[0],a=t.output_format_id.split("$")[0];return o===a&&a===t.type||(o!==t.type&&console.error(r,"Metadata 'type_id' type should match 'type'",t),a!==o&&console.error(r,"Metadata 'output_format_id' type should match 'type_id'",t),!1)}(l,u))throw Error(`Metadata for column '${u}' is invalid.`);n?(i[e]||(i[e]=[]),o[e]||(o[e]=[]),i[e].push(l),o[e].push(eb.getInterpretation(l.type_id))):(i[e]=l,o[e]=eb.getInterpretation(l.type_id))}else if(n){i[e]||(i[e]=[]),o[e]||(o[e]=[]);let t=eb.getInterpretation(c.type_id);i[e].push(c),o[e].push(t)}else i[e]=c,o[e]=eb.getInterpretation(c.type_id)}n&&!s.length&&(i[e]=[])}return{metadata:i,interpretations:o}},rz.prototype._parseTypedDataForDataset=function(t,e){let r=t.map(t=>Object.keys(t).reduce((r,n)=>(Array.isArray(t[n])?r[n]=t[n].map((t,r)=>"number"==typeof t?t:e[n][r].parse(t)):"number"==typeof t[n]?r[n]=t[n]:r[n]=e[n].parse(t[n]),r),{})),n=Object.keys(t),i=Object.keys(r);if(i.length-1!==n.length)for(var o=0;o<n.length;o++)i.includes(n[o])||(r[n[o]]=t[n[o]]);return r},rz.prototype._prepareData=function(t){"column_names"in t&&(this.column_names=function t(e){if(null==e)return e;var r,n={};for(var i in e)Array.isArray(e[i])?n[i]=e[i].slice():Array.isArray(r=e[i])||"object"!=typeof r||null==r?n[i]=e[i]:n[i]=t(e[i]);return n}(t.column_names)),t.bindings?this._prepareDataFromExternalFormat(t.data,t.bindings,t.metadata||{}):this._prepareDataFlourishShape(t.data,this.column_names)},rz.prototype._prepareDataFromExternalFormat=function(t,e,r){for(var o in this._data={},e){for(var a,s,u,l,c=this._parsed_bindings[o],p=function(t,e,r){var n={column_bindings:{},columns_bindings:{}};for(var i in e){var o=e[i];if(r.columns_keys.indexOf(i)>=0)n.columns_bindings[i]=o;else if(r.mandatory_keys.indexOf(i)>=0||r.optional_keys.indexOf(i)>=0)n.column_bindings[i]=o;else throw Error("Flourish: unknown binding “"+i+"” found for dataset “"+t+"”")}return n}(o,e[o],c),f=(s=t[o]||[],u=p.column_bindings,l=p.columns_bindings,(Array.isArray(s[0])?function(t,e,r){!function(t,e){var r;if(!Object.keys(t).every(function(e){return n(t[e])}))throw TypeError("All column_bindings values should be non-negative integers");if(!Object.keys(e).every(function(t){var r=e[t];return Array.isArray(r)?r.every(n):n(r)}))throw TypeError("All columns_bindings values should be non-negative integers or arrays thereof")}(e=e||{},r=r||{});var o=t[0],a=i(t.slice(1),e,r);return a.column_names={},Object.keys(e).forEach(function(t){a.column_names[t]=o[e[t]]}),Object.keys(r).forEach(function(t){var e=r[t];a.column_names[t]=(Array.isArray(e)?e:[e]).map(function(t){return o[t]})}),a}:function(t,e,r){var n=i(t,e=e||{},r=r||{});return n.column_names={},Object.keys(e).forEach(function(t){n.column_names[t]=e[t]}),Object.keys(r).forEach(function(t){var e=r[t];n.column_names[t]=Array.isArray(e)?e:[e]}),n})(s,u,l)),d={},m={},h=0;h<f.length;h++)try{rj(f[h],c,m,d,o)}catch(t){throw Error("Flourish: in dataset “"+o+"”, "+t.message)}if(this.typed_template){let{metadata:t,interpretations:e}=this._getColumnTypesForDataset(f,p,r[o]||{}),n=this._parseTypedDataForDataset(f,e);n.metadata=t,f=n}this._data[o]=f}for(var o in this._data_bindings)!function(t,e,r){for(var n=t.column_names,i=e.mandatory_keys.reduce(function(t,e){return t[e]=!0,t},{}),o=0;o<r.length;o++){var a=r[o],s=a.key;void 0===n[s]&&("columns"===a.type?n[s]=[]:i[s]&&(n[s]=a.name))}}(((a=this._data)[o]||(a[o]=[],a[o].column_names={}),a[o]),this._parsed_bindings[o],this._data_bindings[o])},rz.prototype._prepareDataFlourishShape=function(t,e){var r=this._data_bindings;for(var n in t)if(!(n in r))throw Error("Flourish: the dataset “"+n+"” is not supported by this template");for(var n in this._data={},r){var i=this._parsed_bindings[n];if(i.has_mandatory_key&&!(n in t))throw Error("Flourish: the dataset “"+n+"” must be specified");var o={},a={};this._data[n]=[];for(var s=0;s<t[n].length;s++){var u=function(t){var e={};for(var r in t)e[r]=t[r];return e}(t[n][s]);this._data[n].push(u);try{rj(u,i,a,o)}catch(t){throw Error("Flourish: in dataset “"+n+"”, "+t.message)}}this._data[n].column_names=this._getColumnNames(i,e,a,o)}},rz.prototype._init=function(t,e){var r=this;r._send("setFixedHeight",null,function(){r._draw(t,function(){e&&e(r);for(var t=0;t<r._queued_methods.length;t++){var n=r._queued_methods[t];n[0].apply(r,n.slice(1))}r._queued_methods=null})})},rz.prototype._queue=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);if(!this._queued_methods){t[0].apply(this,t.slice(1));return}this._queued_methods.push(t)},rz.prototype._send=function(t,e,r){var n=new MessageChannel;n.port1.onmessage=r,this.iframe.contentWindow.postMessage({sender:"Flourish",method:t,argument:e},"*",[n.port2])},rz.prototype.snapshot=rP(function(t,e){let r=+(t.scale||1);if(isNaN(r))return e(Error(`Malformed image scale “${t.scale}”`));if("boolean"!=typeof t.download)return e(Error(`The “download” option must be a boolean, not “${t.download}}”`));let n=!!t.download,i=t.format||"png";if(!["png","jpeg","svg"].includes(i))return e(Error(`Unknown image format “${t.format}” - must be one of “png”, “jpeg” or “svg”`));let o=t.filename||"Flourish API image";if("string"!=typeof o)return e(Error(`Filename must be a string (not “${o}”)`));let a=this.iframe.clientWidth,s=this.iframe.clientHeight,u=+(t.timeout_ms||0);if(isNaN(u))return e(Error(`Malformed timeout “${t.timeout_ms}”`));let l=+(t.wait_for_animation_ms||0);if(isNaN(l))return e(Error(`Malformed wait_for_animation_ms “${t.wait_for_animation_ms}”`));let c=!!t.quiet,p=!!t.transparent_background;return this._send("snapshot",{download:n,filename:o,format:i,scale:r,width:a,height:s,timeout_ms:u,wait_for_animation_ms:l,quiet:c,transparent_background:p},t=>"error"===t.data.result.status?e(t.data.result.error):e(null,t.data.result))}),rz.prototype._draw=function(t,e){return this._send("sync",{draw:!0,state:this._mergeState(t.state),data:t.typed_template?t.data:rU(t.data)},e)},rz.prototype._update=function(t,e){var r={update:!0,state:this._mergeState(t.state)};return t.data&&(r.data=t.typed_template?t.data:rU(t.data)),this._send("sync",r,e)},rz.prototype._validateOpts=function(t,e){if(e)for(var r=0;r<rL.length;r++){var n=rL[r];if(n in t&&t[n]!=this.original_properties[n])throw Error("Flourish: changing the '"+n+"' is not yet supported")}if(t.bindings&&t.column_names)throw Error("Flourish: you must supply exactly one of opts.bindings and opts.column_names - these correspond to different ways that your data might be shaped");if(t.metadata&&("object"!=typeof t.metadata||Array.isArray(t.metadata)||null===t.metadata))throw Error("Flourish: opts.metadata must be an object")},rz.prototype.getState=rP(function(t){return this._send("getState",null,function(e){return"data"in e&&"result"in e.data?t(null,e.data.result):t(Error("Template state not found"))})}),rz.prototype.update=rP(function(t,e){this._validateOpts(t,!0);let{template:r,version:n}=this.original_properties;return(t.typed_template=rI[r][n],"data"in t)?(this._prepareData(t),this._update({state:t.state,data:this._data,typed_template:t.typed_template},e)):this._update({state:t.state},e)});var rW={VERSION:rN,Live:rz}}}]);